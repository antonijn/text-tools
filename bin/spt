#!/usr/bin/env python3
import sys

pep8 = '--pep8' in sys.argv[1:]

ws = ' \t\v\r'
for line in sys.stdin:
	if line == '\n':
		print()
		continue

	try:
		lindent = len(line.lstrip(ws))
		indent = line[:-lindent]
		rest = line[-lindent:]

		[left, args_suffix] = rest.split('(', 1)
		ispydef = pep8 and left.startswith('def ')
		[argslist, suffix] = args_suffix.split(')')
		args = [a.strip(ws) for a in argslist.split(',')]

		sys.stdout.write(indent + left + '(')

		if ispydef:
			indent = indent + ' ' * 8
			sys.stdout.write('\n' + indent + args[0])
		else:
			indent = indent + ' ' * (len(left) + 1)
			sys.stdout.write(args[0])
		for a in args[1:]:
			sys.stdout.write(',\n' + indent + a)
		sys.stdout.write(')' + suffix)
	except:
		sys.stderr.write('Malformed line\n')
		sys.exit(1)
